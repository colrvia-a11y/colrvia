{
  "name": "Colrvia (Fast Codespaces)",
  "image": "mcr.microsoft.com/devcontainers/typescript-node:20",
  "remoteUser": "node",
  "features": {
    "ghcr.io/devcontainers/features/node:1": { "version": "20" }
  },
  "containerEnv": {
    "NEXT_TELEMETRY_DISABLED": "1",
    "TSC_COMPILE_ON_ERROR": "true",
    "NODE_OPTIONS": "--max_old_space_size=4096"
  },
  "mounts": [
    "source=colrvia-npm-cache,target=/home/node/.npm,type=volume",
    "source=colrvia-next-cache,target=${containerWorkspaceFolder}/.next/cache,type=volume"
  ],
  "updateContentCommand": "npm ci",
  "postCreateCommand": "npm run prepare || true",
  "forwardPorts": [3000],
  "customizations": {
    "vscode": {
      "settings": {
        "files.exclude": {
          "**/.next": true,
          "**/.turbo": true,
          "**/.vercel": true
        },
        "files.watcherExclude": {
          "**/node_modules/**": true,
          "**/.next/**": true,
          "**/.turbo/**": true,
          "**/.vercel/**": true
        },
        "search.exclude": {
          "**/node_modules": true,
          "**/.next": true,
          "**/.turbo": true,
          "**/.vercel": true
        },
        "typescript.tsserver.maxTsServerMemory": 3072,
        "eslint.run": "onSave",
        "editor.quickSuggestions": { "strings": false }
      },
      "extensions": [
        "esbenp.prettier-vscode",
        "dbaeumer.vscode-eslint",
        "bradlc.vscode-tailwindcss"
      ]
    }
  }
}
